This directory contains files to build the R interfaces
to the functions of spams library already interfaced with matlab.

----------------------------------
Interface building :
execute   sh mybuild
workdir : pkg/spams
input : spams.h, spams.i, spamstools.i, R_typemaps.i, r_spams.R, zzz.R
output : spams_1.0_R_x86_64-pc-linux-gnu.tar.gz  
       The script will also untar the package in ./lib

--------------------
Testing the interface :
To run the tests you need : test_spams.R test_linalg.R test_decomp.R test_dictLearn.R test_prox.R

Rscript test_spams.R -h : to get help
Rscript test_spams.R  : will run all the tests
Rscript test_spams.R linalg : test of linalg functions
Rscript test_spams.R name1 name2 ... : run named tests

-----------------
Using the interface :

Untar the package and load it in R.
spams functions are prefixed with spams.
They are only defined for data of type double.
They accept dense R vectors and "bycolumn" matrices, and sparse matrices of class dsCMatrix.

Examples :

--------
library("spams",lib.loc = "./lib")
library('Matrix')

X = matrix(rnorm(64 * 200),nrow = 64,ncol = 200,byrow = FALSE)
Y = matrix(rnorm(200 * 20000),nrow = 200,ncol = 20000,byrow = FALSE)
Z = spams.CalcXY(X,Y)

------
library("spams",lib.loc = "./lib")
library('Matrix')

m = 200;n = 200000; d= 0.05
# rSpMatrix is defined in test_spams.R to build a random csc matrix
A = rSpMatrix(m,n,floor(m * n * d))
AAt = spams.CalcAAt(A)
